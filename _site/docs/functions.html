<!DOCTYPE html>
    <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


<link rel="Shortcut Icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/syntax.css">
<link rel="stylesheet" href="/css/keywords.css">


<title>Functions</title>

    </head>
    <body>
    <section>
        <div class="container">
            <div class="grid">
                <div class="row">
                    <div class="col-2">
                        <h1>Functions</h1>
                        <!--<ul class="navigation">
                            <li><a href="">Docs Home</a></li>
                            <li><a href="">Examples</a></li>
                            <li><a href="">Comparison to Java</a></li>
                            <li><a href="">Comparison to Scala</a></li>
                            <li><a href="">Modules and Compilation</a></li>
                            <li><a href="">Packages</a></li>
                            <li><a href="">Functions</a></li>
                            <li><a href="">Properties And Fields</a></li>
                        </ul>-->
                        <div id="toc"></div>
                    </div>
                    <div class="col-4">
                            <h2 id="function-declarations">Function Declarations</h2>

<p>Functions in Kotlin are declared using the <em class="keyword">fun</em> keyword</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">):</span> <span class="n">Int</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="parameters">Parameters</h3>

<p>Function parameters are defined using Pascal notation, i.e. <em>name</em>: <em>type</em>. Parameters are separated using commas. Each parameter must be explicitly typed.</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">powerOf</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="n">Int</span><span class="p">,</span> <span class="n">exponent</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
<span class="p">...</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="default-arguments">Default Arguments</h3>

<p>Function parameters can have default values, which are used when a corresponding argument is omitted. This allows to reduce the number of overloads compared to
other languages.</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">read</span><span class="p">(</span><span class="n">b</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">Byte</span><span class="p">&gt;,</span> <span class="n">off</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">len</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">)</span> <span class="p">{</span>
<span class="p">...</span>
<span class="p">}</span>
</code></pre></div>

<p>Default values are defined using the <strong>=</strong> after type along with the value. Default arguments must be the last in the list, that is, it is not possible to have
a parameter without a default argument following one with a default argument.</p>

<h3 id="named-arguments">Named Arguments</h3>

<p>Function parameters can be named when calling functions. This is very convenient when a function has a high number of parameters or default ones.</p>

<p>Given the following function</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">reformat</span><span class="p">(</span><span class="n">str</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">normalizeCase</span><span class="p">:</span> <span class="n">Boolean</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">upperCaseFirstLetter</span><span class="p">:</span> <span class="n">Boolean</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span> <span class="n">divideByCamelHumps</span><span class="p">:</span> <span class="n">Boolean</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span> <span class="n">wordSeparator</span><span class="p">:</span> <span class="n">Character</span> <span class="p">=</span> <span class="sc">&#39; &#39;</span><span class="p">)</span> <span class="p">{</span>
<span class="p">...</span>
<span class="p">}</span>
</code></pre></div>

<p>we could call this using default arguments</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">reformat</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
</code></pre></div>

<p>However, when calling it with non-default, the call would look something like</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">reformat</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="sc">&#39;_&#39;</span><span class="p">)</span>
</code></pre></div>

<p>With named arguments we can make the code much more readable</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">reformat</span><span class="p">(</span><span class="n">str</span><span class="p">,</span>
    <span class="n">normalizeCase</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">uppercaseFirstLetter</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">divideByCamelHumps</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="n">wordSeparator</span> <span class="p">=</span> <span class="sc">&#39;_&#39;</span>
  <span class="p">)</span>
</code></pre></div>

<p>and if we do not need all arguments</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">reformat</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">wordSeparator</span> <span class="p">=</span> <span class="sc">&#39;_&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="unit-returning-functions">Unit returning functions</h3>

<p>If a function does not return any useful value, its return type is <em class="keyword">Unit</em>. <em class="keyword">Unit</em> is a type with only one value - <em class="keyword">Unit.VALUE</em>. This
value does not have to be returned explicitly</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">printHello</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">?):</span> <span class="n">Unit</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">println</span><span class="p">(</span><span class="s">&quot;Hello ${name}&quot;</span><span class="p">)</span>
    <span class="k">else</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">&quot;Hi there!&quot;</span><span class="p">)</span>
    <span class="c1">// return Unit.VALUE or return is optional</span>
<span class="p">}</span>
</code></pre></div>

<p>The <em class="keyword">Unit</em> return type declaration is also optional. The above code is equivalent to</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">printHello</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">?)</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="single-expression-functions">Single-Expression functions</h3>

<p>When a function returns a single expression, the curly braces can be omitted and the body is specified after a <strong>=</strong> symbol</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="n">x</span> <span class="p">*</span> <span class="m">2</span>
</code></pre></div>

<p>Explicitly declaring the return type is optional as this will be inferred by the compiler</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">=</span> <span class="n">x</span> <span class="p">*</span> <span class="m">2</span>
</code></pre></div>

<h3 id="varargs---variable-number-of-arguments">Varargs - Variable number of arguments</h3>

<p>The last parameter of a function may be marked with <em class="keyword">vararg</em> annotation</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="n">asList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">vararg</span> <span class="n">ts</span> <span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="k">val</span> <span class="n">result</span> <span class="p">=</span> <span class="n">ArrayList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;()</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">t</span> <span class="k">in</span> <span class="n">ts</span><span class="p">)</span> <span class="c1">// ts is an Array</span>
    <span class="n">result</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">result</span>
<span class="p">}</span>
</code></pre></div>

<p>allowing a variable number of arguments to be passed in to the function.</p>

<p>By default, <em class="keyword">vararg</em> creates an array, but this behavior can be customized by providing arguments to the annotation</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="n">asList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">vararg</span><span class="p">&lt;</span><span class="n">ArrayList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;&gt;</span> <span class="n">ts</span> <span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">ts</span> <span class="c1">// ts is a List now!</span>
</code></pre></div>

<p>The type argument to the <em class="keyword">vararg</em> annotation denotes a <em>builder</em> type. A call to this function is compiled like so</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">asList</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
<span class="c1">// Compiles to</span>
<span class="k">val</span> <span class="n">list</span> <span class="p">=</span> <span class="n">ArrayList</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;(</span><span class="m">3</span><span class="p">)</span> <span class="c1">// 3 is the size of the structure</span>
<span class="n">list</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="n">list</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="n">list</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="n">asList</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">build</span><span class="p">())</span> <span class="c1">// For ArrayList, build() just returns the list itself</span>
</code></pre></div>

<p>As such, a <em class="keyword">vararg</em> builder must be a type that has</p>

<ul>
  <li>A constructor that takes one <em>Int</em> parameter</li>
  <li>An <em>add()</em> function</li>
  <li>A <em>build()</em> function</li>
</ul>

<p>The type of the <em class="keyword">vararg</em> parameter is the returned type of <em>build()</em></p>

<h2 id="function-scope">Function Scope</h2>

<p>In Kotlin functions can be declared at top level in a file, meaning you do not need to create a class to hold a function, like languages such as Java, C# or Scala. In addition
to top level functions, Kotlin functions can also be declared local, as member functions and extension functions.</p>

<h3 id="local-functions">Local Functions</h3>

<p>Kotlin supports local functions, i.e. a function inside another function</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">graph</span> <span class="p">:</span> <span class="n">Graph</span><span class="p">){</span>
  <span class="k">fun</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">current</span> <span class="p">:</span> <span class="n">Vertex</span><span class="p">,</span> <span class="n">visited</span> <span class="p">:</span> <span class="n">Set</span><span class="p">&lt;</span><span class="n">Vertex</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">visited</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">current</span><span class="p">))</span> <span class="k">return</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">v</span> <span class="k">in</span> <span class="n">current</span><span class="p">.</span><span class="n">neighbors</span><span class="p">)</span>
      <span class="n">dfs</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">visited</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="n">dfs</span><span class="p">(</span><span class="n">graph</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">HashSet</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></div>

<p>Local function can access local variables of outer functions (i.e. the closure), so in the case above, the <em>visited</em> can be a local variable</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">graph</span> <span class="p">:</span> <span class="n">Graph</span><span class="p">){</span>
  <span class="k">val</span> <span class="n">visited</span> <span class="p">=</span> <span class="n">HashSet</span><span class="p">&lt;</span><span class="n">Vertex</span><span class="p">&gt;()</span>
  <span class="k">fun</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">current</span> <span class="p">:</span> <span class="n">Vertex</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">visited</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">current</span><span class="p">))</span> <span class="k">return</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">v</span> <span class="k">in</span> <span class="n">current</span><span class="p">.</span><span class="n">neighbors</span><span class="p">)</span>
      <span class="n">dfs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="n">dfs</span><span class="p">(</span><span class="n">graph</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="m">0</span><span class="p">])</span>
<span class="p">}</span>
</code></pre></div>

<p>Local functions can even return from outer functions using <a href="/docs/returns.html">qualified return expressions</a></p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="nf">reachable</span><span class="p">(</span><span class="n">from</span> <span class="p">:</span> <span class="n">Vertex</span><span class="p">,</span> <span class="n">to</span> <span class="p">:</span> <span class="n">Vertex</span><span class="p">)</span> <span class="p">:</span> <span class="n">Boolean</span> <span class="p">{</span>
  <span class="k">val</span> <span class="n">visited</span> <span class="p">=</span> <span class="n">HashSet</span><span class="p">&lt;</span><span class="n">Vertex</span><span class="p">&gt;()</span>
  <span class="k">fun</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">current</span> <span class="p">:</span> <span class="n">Vertex</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// here we return from the outer function:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">current</span> <span class="p">==</span> <span class="n">to</span><span class="p">)</span> <span class="k">return</span><span class="n">@reachable</span> <span class="k">true</span>
    <span class="c1">// And here -- from local function:</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">visited</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">current</span><span class="p">))</span> <span class="k">return</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">v</span> <span class="k">in</span> <span class="n">current</span><span class="p">.</span><span class="n">neighbors</span><span class="p">)</span>
      <span class="n">dfs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="n">dfs</span><span class="p">(</span><span class="n">from</span><span class="p">)</span>
  <span class="k">return</span> <span class="k">false</span> <span class="c1">// if dfs() did not return true already</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="member-functions">Member Functions</h3>

<p>A member function is a function that is defined inside a class or object</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">class</span> <span class="nf">Simple</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Member functions are called with dot notation</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">Sample</span><span class="p">().</span><span class="n">foo</span><span class="p">()</span> <span class="c1">// creates instance of class Sample and calls foo</span>
</code></pre></div>

<p>For more information on classes and overriding members see <a href="/docs/classes.html">Classes</a> and <a href="/docs/classes.html#inheritance">Inheritance</a></p>

<h3 id="generic-functions">Generic Functions</h3>

<p>Functions can have generic parameters which are specified using angle brackets after the function name and before the value parameters</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">fun</span> <span class="n">singletonArray</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">item</span> <span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="m">1</span><span class="p">,</span> <span class="p">{</span><span class="n">item</span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div>

<p>For more information on generic functions see <a href="% post_url docs/2013-11-15-generics %}">Generics</a></p>

<h3 id="inline-functions">Inline Functions</h3>

<p>Inline functions are explained in <a href="/docs/lambdas.html#inline-functions">High Order Functions</a></p>

<h3 id="extension-functions">Extension Functions</h3>

<p>Extension functions are explained in <a href="/docs/extension-functions.html">their own section</a></p>

<h3 id="high-order-functions-and-lambdas">High Order Functions and Lambdas</h3>

<p>High Order functions and Lambdas are explained in <a href="/docs/lambdas.html">their own section</a></p>

<h2 id="function-usage">Function Usage</h2>

<p>Calling functions uses the traditional approach</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">val</span> <span class="n">result</span> <span class="p">=</span> <span class="kt">double</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
</code></pre></div>

<p>Calling member functions uses the dot notation</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">Sample</span><span class="p">().</span><span class="n">foo</span><span class="p">()</span> <span class="c1">// create instance of class Sample and calls foo</span>
</code></pre></div>

<h3 id="infix-notation">Infix notation</h3>

<p>Functions can also be called using infix notations when</p>

<ul>
  <li>They are member functions or <a href="/docs/extension-functions.html">extension functions</a></li>
  <li>They have a single parameter</li>
</ul>

<div class="highlight"><pre><code class="kotlin"><span class="c1">// Define extension to Int</span>
<span class="k">fun</span> <span class="n">Int</span><span class="p">.</span><span class="n">shl</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
<span class="p">..</span>
<span class="p">}</span>

<span class="c1">// call extension function using infix notation</span>

<span class="m">1</span> <span class="n">shl</span> <span class="m">2</span>

<span class="c1">// is the same as</span>

<span class="m">1.</span><span class="n">shl</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
</code></pre></div>


                    </div>
                </div>
            </div>

        </div>
        <div id="related">
            <h4>Related</h4>


            

        </div>

        <!--
Footer details such as copyright notice, etc.
-->

        <!--
Include all scripts required here
-->

<script type="text/javascript" src="/scripts/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="/scripts/jquery.toc.min.js"></script>


        
    </section>
    </body>
</html>
