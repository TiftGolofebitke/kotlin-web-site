<!DOCTYPE html>
    <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


<link rel="Shortcut Icon" href="/kotlin-web-site/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/kotlin-web-site/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/kotlin-web-site/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/kotlin-web-site/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/kotlin-web-site/css/styles.css">
<link rel="stylesheet" href="/kotlin-web-site/css/syntax.css">
<link rel="stylesheet" href="/kotlin-web-site/css/keywords.css">


<title>Exceptions</title>

    </head>
    <body>
    <section>
        <div class="container">
            <div class="grid">
                <div class="row">
                    <div class="col-2">
                        <h1>Exceptions</h1>
                        <!--<ul class="navigation">
                            <li><a href="">Docs Home</a></li>
                            <li><a href="">Examples</a></li>
                            <li><a href="">Comparison to Java</a></li>
                            <li><a href="">Comparison to Scala</a></li>
                            <li><a href="">Modules and Compilation</a></li>
                            <li><a href="">Packages</a></li>
                            <li><a href="">Functions</a></li>
                            <li><a href="">Properties And Fields</a></li>
                        </ul>-->
                        <div id="toc"></div>
                    </div>
                    <div class="col-4">
                            <h2 id="exception-classes">Exception Classes</h2>

<p>All exception classes in Kotlin are descendants of the class <em>Exception</em>. Every exception has a message, stack trance and an optional cause.</p>

<p>To throw an exception object, use the <em class="keyword">throw</em> expression</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">throw</span> <span class="nf">MyException</span><span class="p">(</span><span class="s">&quot;Hi There!&quot;</span><span class="p">)</span>
</code></pre></div>

<p>To catch an exception, use the <em class="keyword">try</em> expression</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">try</span> <span class="p">{</span>
  <span class="c1">// some code</span>
<span class="p">}</span>
<span class="k">catch</span> <span class="p">(</span><span class="n">e</span> <span class="p">:</span> <span class="n">SomeException</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handler</span>
<span class="p">}</span>
<span class="k">finally</span> <span class="p">{</span>
  <span class="c1">// optional finally block</span>
<span class="p">}</span>
</code></pre></div>

<p>There may be zero or more <em class="keyword">catch</em> blocks. <em class="keyword">finally</em> blocks may be omitted. However at least one <em class="keyword">catch</em> or <em class="keyword">finally</em> block
should be present.</p>

<h3 id="try-is-an-expression">Try is an expression</h3>

<p><em class="keyword">try</em> is an expression, i.e. it may have a return value.</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">val</span> <span class="n">a</span> <span class="p">:</span> <span class="n">Int</span><span class="p">?</span> <span class="p">=</span> <span class="k">try</span> <span class="p">{</span> <span class="n">parseInt</span><span class="p">(</span><span class="n">input</span><span class="p">)</span> <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">e</span> <span class="p">:</span> <span class="n">NumberFormatException</span><span class="p">)</span> <span class="p">{</span> <span class="k">null</span> <span class="p">}</span>
</code></pre></div>

<p>The returned value of a <em class="keyword">try</em> expression with no <em class="keyword">finally</em> is either the last expression in the <em class="keyword">try</em> block or the
last expression in the <em class="keyword">catch</em> block (or blocks).</p>

<p>If <em class="keyword">finally</em> block is present, its last expression is the value of the <em class="keyword">try</em> expression.</p>

<h2 id="checked-exceptions">Checked Exceptions</h2>

<p>Kotlin does not have checked exceptions. There are many reasons for this, but we will provide a simple example.</p>

<p>The following is an example interface of the JDK implemented by <em>StringBuilder</em> class</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">Appendable</span> <span class="nf">append</span><span class="p">(</span><span class="n">CharSequence</span> <span class="n">csq</span><span class="p">)</span> <span class="n">throws</span> <span class="n">IOException</span><span class="p">;</span>
</code></pre></div>

<p>What does this signature say? It says that every time I append a string to something (a StringBuilder, some kind of a log, a console, etc) I have to catch those IOExceptions. Why? Because it might be performing IO (Writer also implements Appendable)… So it results into this kind of code all over the place:</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">try</span> <span class="p">{</span>
  <span class="n">log</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Must be safe</span>
<span class="p">}</span>
</code></pre></div>

<p>And this is no good, see <a href="http://java.sun.com/docs/books/effective">Effective Java Item 65</a>: Don’t ignore exceptions.</p>

<p>Bruce Eckel says in <a href="http://www.mindview.net/Etc/Discussions/CheckedExceptions">Does Java need Checked Exceptions?</a> :</p>

<p>Examination of small programs leads to the conclusion that requiring exception specifications could both enhance developer productivity and enhance code quality, but experience with large software projects suggests a different result – decreased productivity and little or no increase in code quality.</p>

<p>Other citations of this sort:</p>

<p><a href="http://radio-weblogs.com/0122027/stories/2003/04/01/JavasCheckedExceptionsWereAMistake.html">Java’s checked exceptions were a mistake</a> (Rod Waldhoff)
<a href="http://www.artima.com/intv/handcuffs.html">The Trouble with Checked Exceptions</a> (Anders Hejlsberg]</p>

<h2 id="java-interoperability">Java Interoperability</h2>

<p>Please see the section on exceptions in the <a href="/docs/java-interop.html">Java Interoperability section</a> for information about Java interoperability.</p>


                    </div>
                </div>
            </div>

        </div>
        <div id="related">
            <h4>Related</h4>


            

        </div>

        <!--
Footer details such as copyright notice, etc.
-->

        <!--
Include all scripts required here
-->

<script type="text/javascript" src="/kotlin-web-site/scripts/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="/kotlin-web-site/scripts/jquery.toc.min.js"></script>


        
    </section>
    </body>
</html>
