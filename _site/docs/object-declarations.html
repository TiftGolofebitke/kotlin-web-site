<!DOCTYPE html>
    <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


<link rel="Shortcut Icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/syntax.css">
<link rel="stylesheet" href="/css/keywords.css">


<title>Object Expressions and Declarations</title>

    </head>
    <body>
    <section>
        <div class="container">
            <div class="grid">
                <div class="row">
                    <div class="col-2">
                        <h1>Object Expressions and Declarations</h1>
                        <!--<ul class="navigation">
                            <li><a href="">Docs Home</a></li>
                            <li><a href="">Examples</a></li>
                            <li><a href="">Comparison to Java</a></li>
                            <li><a href="">Comparison to Scala</a></li>
                            <li><a href="">Modules and Compilation</a></li>
                            <li><a href="">Packages</a></li>
                            <li><a href="">Functions</a></li>
                            <li><a href="">Properties And Fields</a></li>
                        </ul>-->
                        <div id="toc"></div>
                    </div>
                    <div class="col-4">
                            <p>Sometimes we need to create an object of a slight modification of some class, without explicitly declaring a new subclass for it. <em>Java</em> handles this case with <em>anonymous inner classes</em>.
Kotlin slightly generalizes this concept with <em>object</em> expressions and <em>object</em> declarations.</p>

<h2 id="object-expressions">Object expressions</h2>

<p>To create an object of an anonymous class that inherits from some type (or types), one writes:</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">window</span><span class="p">.</span><span class="n">addMouseListener</span><span class="p">(</span><span class="n">object</span> <span class="p">:</span> <span class="n">MouseAdapter</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">e</span> <span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="k">override</span> <span class="k">fun</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">e</span> <span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div>

<p>If a  supertype has a constructor, appropriate constructor parameters must be passed to it. Many supertypes may be specified as a comma-separated list after the colon:</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">open</span> <span class="k">class</span> <span class="nf">A</span><span class="p">(</span><span class="n">x</span> <span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">public</span> <span class="n">open</span> <span class="k">val</span> <span class="n">y</span> <span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="n">x</span>
<span class="p">}</span>

<span class="n">trait</span> <span class="n">B</span> <span class="p">{...}</span>

<span class="k">val</span> <span class="n">ab</span> <span class="p">=</span> <span class="n">object</span> <span class="p">:</span> <span class="n">A</span><span class="p">(</span><span class="m">1</span><span class="p">),</span> <span class="n">B</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">val</span> <span class="n">y</span> <span class="p">=</span> <span class="m">15</span>
<span class="p">}</span>
</code></pre></div>

<p>If, by any chance, we need “just an object”, with no nontrivial supertypes, we can simply say:</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">val</span> <span class="n">adHoc</span> <span class="p">=</span> <span class="n">object</span> <span class="p">{</span>
  <span class="k">var</span> <span class="n">x</span> <span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span>
  <span class="k">var</span> <span class="n">y</span> <span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span>
<span class="p">}</span>
<span class="n">print</span><span class="p">(</span><span class="n">adHoc</span><span class="p">.</span><span class="n">x</span> <span class="p">+</span> <span class="n">adHoc</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
</code></pre></div>

<h2 id="object-declarations">Object declarations</h2>

<table>
  <tbody>
    <tr>
      <td>[Singleton</td>
      <td>(http://en.wikipedia.org/wiki/Singleton_pattern) is a very useful pattern, and Kotlin (after <em>Scala</em>) makes it easy to declare singletons:</td>
    </tr>
  </tbody>
</table>

<div class="highlight"><pre><code class="kotlin"><span class="n">object</span> <span class="n">DataProviderManager</span> <span class="p">{</span>
  <span class="k">fun</span> <span class="nf">registerDataProvider</span><span class="p">(</span><span class="n">provider</span> <span class="p">:</span> <span class="n">DataProvider</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="k">val</span> <span class="n">allDataProviders</span> <span class="p">:</span> <span class="n">Collection</span><span class="p">&lt;</span><span class="n">DataProvider</span><span class="p">&gt;</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>

<p>This is called an <em>object declaration</em>. If there’s a name following the <em>object</em> keyword, we are not talking about an <em>expression</em> any more. We cannot assign such a thing to a variable, but we can refer to it by its name. Such objects can have supertypes:</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">object</span> <span class="n">DefaultListener</span> <span class="p">:</span> <span class="n">MouseAdapter</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">mouseClicked</span><span class="p">(</span><span class="n">e</span> <span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="k">override</span> <span class="k">fun</span> <span class="nf">mouseEntered</span><span class="p">(</span><span class="n">e</span> <span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="semantical-difference-between-object-expressions-and-declarations">Semantical difference between object expressions and declarations</h3>

<p>There is one important semantical difference between <em>object</em> expressions and <em>object</em> declarations:
* <em>object</em> declarations are initialized lazily, when accessed for the first time
* <em>object</em> expressions are executed (and initialized) immediately, where they are used</p>


                    </div>
                </div>
            </div>

        </div>
        <div id="related">
            <h4>Related</h4>


            

        </div>

        <!--
Footer details such as copyright notice, etc.
-->

        <!--
Include all scripts required here
-->

<script type="text/javascript" src="/scripts/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="/scripts/jquery.toc.min.js"></script>


        
    </section>
    </body>
</html>
